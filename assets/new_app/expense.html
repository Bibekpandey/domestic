<html>
    <head>
        <title>I Spent</title>
        <link href="https://fonts.googleapis.com/css?family=Titillium Web" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Chivo" rel="stylesheet">
        <link rel="stylesheet" href="https://use.typekit.net/ejj2zrc.css">
        <link rel="stylesheet" type="text/css" href="styles.css">
        <link rel="stylesheet" type="text/css" href="expenses.css">
    </head>
    <body class="bg-black-seaweed">
        <div id="main" class="flex-col-center">
            <div id="navbar" class="flex-row-center">
                <div class="width-20-vw"></div>
                <div class="width-20-vw"></div>
                <div id="brand-name" class="font-serif font-largest color-caviar">
                    EXPENSES
                </div>
                <div class="width-20-vw"></div>
                <div class="width-20-vw"></div>
            </div>
            <div id="content" class="flex-col-center">
                <span class="font-montserrat font-larger color-avocado"> Today, I spent </span>
                <form>
                    <!-- <i class="input-text font-lato color-caviar"> Rs. </i> -->
                    <input class="amount-input bg-transparent font-lato color-caviar" type="number" autofocus />
                </form>

                <span class="font-montserrat font-large color-avocado"> On </span>

                <form>
                    <input class="bg-transparent border-bottom-primary items-input color-caviar" type="text" placeholder="Pizza, Momo"/>
                </form>
                <button id="add-button" class="padding-10 margin-top-20 width-100-px" type="button"> <span class="font-smaller font-bold"> Add </span> </button>
            </div>
            <div id="footer"></div>
        </div>
    </body>

    <script type="text/javascript" src="elements.js"></script>
    <script type="text/javascript" src="animation.js"></script>
    <script>
        function createCanvas() {
            const bodyHeight = document.body.clientHeight;
            const bodyWidth = document.body.clientWidth;
            let canvas = document.createElement('canvas');
            canvas.setAttribute('width', `${bodyWidth}`);
            canvas.setAttribute('height', `${bodyHeight}`);
            canvas.id = 'main-canvas';
            return canvas;
        }

        let canvas = createCanvas();
        document.body.appendChild(canvas)

        const fps = 60;
        const elements = [];
        let animation = new Animation(canvas, elements, fps);
        animation.run();

        window.addEventListener('resize', () => {
            const old_elements = animation.elements;

            document.body.removeChild(canvas);
            canvas = createCanvas();
            document.body.appendChild(canvas);

            clearTimeout(animation.timeout);

            animation = new Animation(canvas, old_elements, fps);
            animation.run();
            
        });
    </script>
</html>
